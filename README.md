# ふるさと納税 上限目安計算ツール

https://kafka2306.github.io/furutsatotax/

このリポジトリは、給与収入や副業収入、各種所得控除の入力から、ふるさと納税の「上限額」を見積もる。

## 計算根拠（法的根拠と簡易化の前提）
- 所得税（超過累進税率）: 国税庁タックスアンサー「No.2260 所得税の税率」に基づき、分離課税等を除く総合課税の速算表（5%/10%/20%/23%/33%/40%/45%）を用いて概算します。復興特別所得税は未考慮です。
  - 参考: https://www.nta.go.jp/taxes/shiraberu/taxanswer/shotoku/2260.htm
- 基礎控除（所得税・現行）: 48万円（合計所得金額が2,400万円以下）。2,400万円超〜2,450万円以下は32万円、2,450万円超〜2,500万円以下は16万円、2,500万円超は0円。
  - 参考: 国税庁（タックスアンサー等） https://www.nta.go.jp/
- 住民税（所得割の標準税率）: 地方税法における個人住民税の標準税率として、所得割は合計10%（都道府県民税4%＋市町村民税6%）が基本です。本ツールはこの10%のみを採用し、均等割・調整控除・配当控除等は未考慮です。
  - 参考（制度解説・法令）：総務省（個人住民税の制度解説・地方税法） https://www.soumu.go.jp/
- ふるさと納税（寄附金税額控除・特例分の上限）: 個人住民税の寄附金税額控除（特例分）は「住民税所得割額の20%」が上限の目安です。実務上は、所得税側の寄附金控除および住民税側の寄附金税額控除（基本分＋特例分）の組合せにより実質負担2,000円となる範囲が決まります。本ツールは近似式として「(住民税所得割額×20%) ÷ (90% − 所得税率×1.021) + 2,000円」を採用します。
  - 参考（制度解説）：総務省 ふるさと納税ポータル（寄附金税額控除の概要） https://www.soumu.go.jp/main_sosiki/jichi_zeisei/czaisei/czaisei_seido/furusato/mechanism/deduction.html （上限は「住民税所得割額の2割」）
 - 青色申告特別控除（事業所得）: 記帳方法と提出方法で 65万/55万/10万円。複式簿記＋e-Tax提出（または電子帳簿保存）で65万円、複式簿記で55万円、簡易簿記で10万円。利益の範囲内で適用。
 - 基礎控除（個人住民税）: 合計所得金額に応じて 43万円（〜2,400万円）/29万円（〜2,450万円）/15万円（〜2,500万円）/0円（超2,500万円）。
  - 参考: 総務省「個人住民税の基礎控除額の見直し等について」等の周知資料（例: https://www.soumu.go.jp/main_content/000667390.pdf）

## 制約
- 復興特別所得税、住民税の均等割・調整控除、住宅ローン控除、医療費控除、配当控除、配偶者（特別）控除、扶養控除等の多くの控除・税額控除は未考慮です。
- 分離課税等は未対応: 株式・投資等の分離課税（申告分離・源泉分離）や損益通算の扱いは現実とは異なる可能性があります。

## 計算ロジック（概要）
- 合計所得金額（本ツールの定義）: `給与所得控除後の給与 + 副業収入×(1-経費率) + 投資差益`
- 課税所得（所得税）: `合計所得金額 − (社会保険料等の所得控除) − 所得税の基礎控除`
- 課税所得（住民税）: `合計所得金額 − (社会保険料等の所得控除) − 住民税の基礎控除`
- 所得税額（簡易）: 速算表（5%〜45%）で概算（復興特別所得税なし）
- 住民税（簡易）: `課税所得(住民税) × 10%`（所得割のみ）
- 上限目安: `((住民税(所得割)×20%) ÷ (90% − 所得税率×1.021) + 2,000)` を100円単位で切り捨て

詳細は `scripts/calc_furusato.py` を参照してください。

## MkDocs ドキュメント（制度解説）
- 位置: `docs/` ディレクトリ（トップ: `docs/index.md`）
- 概要ページ: `docs/DC制度解説.md`
- 個別ページ: `docs/DCマッチング拠出.md`, `docs/個人型確定拠出年金_iDeCo.md`, `docs/小規模企業共済.md`
- その他税制（概要）:
  - 所得・住民税: `docs/所得税の基本.md`, `docs/住民税の基本.md`
  - 所得控除: `docs/基礎控除.md`, `docs/社会保険料控除.md`, `docs/医療費控除.md`, `docs/配偶者控除_扶養控除.md`, `docs/生命保険料控除等.md`
  - 税額控除: `docs/住宅ローン控除.md`, `docs/寄附金控除_ふるさと納税.md`
- 設定: `mkdocs.yml`

ローカルでプレビューする場合（MkDocs がインストール済みであること）
```bash
mkdocs serve
# ブラウザで http://127.0.0.1:8000 を開く
```
静的サイトを出力する場合
```bash
mkdocs build
# site/ 以下に出力
```
